import { Func } from "mocha";

// Type definitions for Hap
// Definitions by: Hap <https://www.quickapp.cn/>
/**
 * 图片编辑
 * 接口声明: {"name": "system.image"}
 */
export default class image {
    /**
     * 获取图片信息
     * @param obj
     * @property success 成功回调
     * @property fail 失败回调
     * @property cancel 取消回调
     * @property complete 执行结束后的回调
     */
    static getImageInfo(obj: { success?: Function, fail?: Function, cancel?: Function, complete?: Function }): void

    /**
     * 压缩图片
     * @param obj
     * @property uri 图片地址，可以是数据文件或应用内的资源。如果是应用内资源，必须使用绝对路径
     * @property quality 图片的压缩质量，0-100之间，默认是75
     * @property ratio 尺寸压缩倍数，必须大于0，尺寸会变为原图的1/ratio大小
     * @property format 图片保存格式，支持JPEG，PNG，WEBP三种格式。默认使用JPEG格式
     * @property success 成功回调
     * @property fail 失败回调
     * @property complete 执行结束后的回调
     */
    static compressImage(obj: {
        uri: string,
        quality?: number,
        ratio?: number,
        format?: string,
        success?: Function,
        fail?: Function,
        complete?: Function
    }): void

    /**
     * 获取图片信息
     * @param obj
     * @property uri 图片地址，可以是数据文件或应用内的资源。如果是应用内资源，必须使用绝对路径
     * @property success 成功回调
     * @property fail 失败回调
     * @property complete 执行结束后的回调
     */
    static getExifAttributes(obj: {
        uri: string,
        success?: Function,
        fail?: Function,
        complete?: Function
    }): void

    /**
     *
     * @param obj
     * @property uri 图片地址，可以是数据文件或应用内的资源。如果是应用内资源，必须使用绝对路径
     * @property attributes 要设置的exif属性列表
     * @property success 成功回调
     * @property fail 失败回调
     * @property complete 执行结束后的回调
     */
    static setExifAttributes(obj: {
        uri: string,
        attributes: object,
        success?: Function,
        fail?: Function,
        complete?: Function
    }): void

    /**
     * 对图片按顺序执行编辑操作。在顺序执行编辑操作列表中的操作时，上一步操作生成的结果会作为下一步操作的输入，坐标系也是以上一步操作生成的结果的左上角为坐标原点重新确定的。
     * @param obj
     * @property uri 图片地址，可以是数据文件或应用内的资源。如果是应用内资源，必须使用绝对路径
     * @property operations 编辑操作列表，按照先后顺序执行。如果未提供，则不会执行编辑操作，仅重新保存图片
     * @property quality 图片的压缩质量，0-100之间，默认是75
     * @property format 图片保存格式，支持JPEG，PNG，WEBP三种格式。默认使用JPEG格式
     * @property success 成功回调
     * @property fail 失败回调
     * @property complete 执行结束后的回调
     */
    static applyOperations(obj: {
        uri: string,
        operations?: object[],
        quality?: number,
        format?: string,
        success?: Function,
        fail?: Function,
        complete?: Function
    }): void

    /**
     * 打开编辑器来编辑图片。目前支持选择图片范围并裁剪
     * @param obj
     * @property uri 图片地址，可以是数据文件或应用内的资源。如果是应用内资源，必须使用绝对路径
     * @property success 成功回调
     * @property fail 失败回调
     * @property cancel 取消回调
     * @property complete 执行结束后的回调
     */
    static editImage(obj: {
        uri: string,
        success?: Function,
        fail?: Function,
        cancel?: Function,
        complete?: Function
    }): void
}
